<ion-header>
  <ion-toolbar color="primary">
    <ion-title>InArea</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="closeModal()">
        <ion-icon slot="icon-only" name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card>
    <div class="datatable">
      <ngx-datatable #table [rows]="vInAreaMore" [ngClass]="tableStyle" [rowHeight]="'auto'" [headerHeight]="50"
      [loadingIndicator]="isLoading" [columnMode]="'force'" [limit]="6" [footerHeight]="50"
      (activate)="onActivate($event)">


      <ngx-datatable-column name="dateIn">
        <ng-template ngx-datatable-header-template>
          <span>เวลาเข้า</span>
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="houseNum">
        <ng-template ngx-datatable-header-template>
          <span>เลขที่บ้านที่ไป</span>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="visitorCarid" [sortable]="flase">
        <ng-template ngx-datatable-header-template>
          <span>ทะเบียนรถ</span>
        </ng-template>

        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
          <p>{{ row.visitorCarid }}</p>
          <!-- <img [src]="row.visitorCardidurl" (click)="ImageClick()" style="width: 70px;height: 40px"> -->
          <img [src]="row.visitorCarnumurl" style="width: 70px;height: 40px">
        </ng-template>

      </ngx-datatable-column>


      <ngx-datatable-column name="visitorFullname" [sortable]="flase">
        <ng-template ngx-datatable-header-template>
          <span>ชื่อ</span>
        </ng-template>

        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
          <p>{{ row.visitorFullname }}</p>
          <img [src]="row.visitorFaceurl" style="width: 70px;height: 40px">
        </ng-template>

      </ngx-datatable-column>



      <ngx-datatable-column name="nameCompany" [sortable]="flase">
        <ng-template ngx-datatable-header-template>
          <span>บริษัท</span>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="totalTime" [sortable]="true">
        <ng-template ngx-datatable-header-template>
          <span>เวลาที่อยู่</span>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="timestampOut" [sortable]="flase">
        <ng-template ngx-datatable-header-template>
          <span>เวลาออก</span>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="status">
        <ng-template ngx-datatable-header-template>
          <span>สถานะ</span>
        </ng-template>

        <ng-template class="ngx-status" let-row="row" let-value="value" ngx-datatable-cell-template>
          <div class="color-status" [ngClass]="(row.status=='IN')?'text-in':'text-out'">
            <p> {{row.status}} </p>
          </div>
        </ng-template>
        
      </ngx-datatable-column>

    </ngx-datatable>
    </div>
  </ion-card>

</ion-content>